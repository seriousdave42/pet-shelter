(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,a){e.exports=a(51)},26:function(e,t,a){},33:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);a(21);var n=a(0),l=a.n(n),c=a(18),r=a.n(c),o=(a(26),a(1)),m=(a(33),a(2)),u=a(4),i=a.n(u),s=function(e){var t=e.pets;return l.a.createElement("div",null,l.a.createElement("table",{className:"col-8 mx-auto table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Type"),l.a.createElement("th",{scope:"col"},"Actions"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.petName),l.a.createElement("td",null,e.petType),l.a.createElement("td",null,l.a.createElement(o.a,{to:"/pet/".concat(e._id)},"Details"),l.a.createElement("span",null," | "),l.a.createElement(o.a,{to:"/pet/".concat(e._id,"/edit")},"Edit")))})))))},p=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),u=Object(m.a)(r,2),p=u[0],E=u[1];return Object(n.useEffect)((function(){i.a.get("http://localhost:8000/api/pets").then((function(e){c(e.data.pets),E(!0)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement("h2",null,"These pets are looking for a good home"),l.a.createElement("hr",null),p&&l.a.createElement(s,{pets:a}),l.a.createElement("hr",null),l.a.createElement(o.a,{to:"/pet/new"},"Add a pet to the shelter"))},E=a(6),h=a(7),d=function(e){var t=e.initialPet,a=e.petHandler,c=e.errors,r=e.submit,o=Object(n.useState)(t),u=Object(m.a)(o,2),i=u[0],s=u[1],p=function(e){s(Object(h.a)({},i,Object(E.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement("form",{className:"col-4 mx-auto",onSubmit:function(e){e.preventDefault(),a(i)}},c.map((function(e,t){return l.a.createElement("p",{key:t,className:"text-danger"},e)})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Pet Name "),l.a.createElement("input",{type:"text",className:"form-control",name:"petName",value:i.petName,onChange:function(e){return p(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Pet Type "),l.a.createElement("input",{type:"text",className:"form-control",name:"petType",value:i.petType,onChange:function(e){return p(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Pet Description"),l.a.createElement("input",{type:"text",className:"form-control",name:"petDesc",value:i.petDesc,onChange:function(e){return p(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Skill 1 (optional)"),l.a.createElement("input",{type:"text",className:"form-control",name:"petSkill1",value:i.petSkill1,onChange:function(e){return p(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Skill 2 (optional)"),l.a.createElement("input",{type:"text",className:"form-control",name:"petSkill2",value:i.petSkill2,onChange:function(e){return p(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Skill 3 (optional)"),l.a.createElement("input",{type:"text",className:"form-control",name:"petSkill3",value:i.petSkill3,onChange:function(e){return p(e)}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"".concat(r).concat(i.petName))))},f=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1];return l.a.createElement("div",null,l.a.createElement("h2",null,"Know a pet needing a home?"),l.a.createElement("hr",null),l.a.createElement(d,{initialPet:{petName:"",petType:"",petDesc:"",petSkill1:"",petSkill2:"",petSkill3:""},petHandler:function(e){i.a.post("http://localhost:8000/api/pet",e).then((function(e){Object(o.c)("/")})).catch((function(e){console.log(e.response);for(var t=e.response.data.errors,a=[],n=0,l=Object.keys(t);n<l.length;n++){var r=l[n];a.push(t[r].message)}c(a)}))},submit:"Add ",errors:a}),l.a.createElement("hr",null),l.a.createElement(o.a,{to:"/"},"Back to home"))},b=function(e){var t=e.petID,a=e.petName,n=e.successCallback;return l.a.createElement("button",{className:"btn btn-danger",onClick:function(e){i.a.delete("http://localhost:8000/api/pet/"+t).then((function(e){return n()})).catch((function(e){return console.log(e)}))}},"Adopt ",a)},v=function(e){var t=e.id,a=Object(n.useState)({}),c=Object(m.a)(a,2),r=c[0],u=c[1],s=Object(n.useState)(!1),p=Object(m.a)(s,2),E=p[0],h=p[1],d=Object(n.useState)(!1),f=Object(m.a)(d,2),v=f[0],g=f[1];return Object(n.useEffect)((function(){i.a.get("http://localhost:8000/api/pet/"+t).then((function(e){u(e.data.pet),h(!0)})).catch((function(e){console.log(e),g(!0)}))}),[t]),l.a.createElement("div",null,v&&l.a.createElement("div",null,l.a.createElement("h3",null,"We're sorry, this pet page doesn't exist"),l.a.createElement(o.a,{to:"/"},"Home")),!v&&E&&l.a.createElement("div",null,l.a.createElement("h2",null,"Details about ",r.petName),l.a.createElement(b,{petID:r._id,petName:r.petName,successCallback:function(){return Object(o.c)("/")}}),l.a.createElement("hr",null),l.a.createElement("table",{className:"table col-5 mx-auto"},l.a.createElement("tr",null,l.a.createElement("td",null,"Pet type:"),l.a.createElement("td",null,r.petType)),l.a.createElement("tr",null,l.a.createElement("td",null,"Pet description:"),l.a.createElement("td",null,r.petDesc)),l.a.createElement("tr",null,l.a.createElement("td",null,"Skills:"),l.a.createElement("td",null,l.a.createElement("p",null,r.petSkill1),l.a.createElement("p",null,r.petSkill2),l.a.createElement("p",null,r.petSkill3)))),l.a.createElement("hr",null),l.a.createElement(o.a,{to:"/pet/".concat(r._id,"/edit")},"Edit"),l.a.createElement("span",null," | "),l.a.createElement(o.a,{to:"/"},"Back to Home")))},g=function(e){var t=e.id,a=Object(n.useState)({}),c=Object(m.a)(a,2),r=c[0],u=c[1],s=Object(n.useState)(!1),p=Object(m.a)(s,2),E=p[0],f=p[1],b=Object(n.useState)([]),v=Object(m.a)(b,2),g=v[0],j=v[1],O=Object(n.useState)(!1),k=Object(m.a)(O,2),N=k[0],S=k[1];Object(n.useEffect)((function(){i.a.get("http://localhost:8000/api/pet/"+t).then((function(e){u(Object(h.a)({},e.data.pet)),f(!0)})).catch((function(e){console.log(e),S(!0)}))}),[t]);return l.a.createElement("div",null,N&&l.a.createElement("div",null,l.a.createElement("h3",null,"We're sorry, this pet page doesn't exist"),l.a.createElement(o.a,{to:"/"},"Home")),E&&l.a.createElement("div",null,l.a.createElement("h2",null,"Edit ",r.petName),l.a.createElement(d,{initialPet:r,petHandler:function(e){i.a.put("http://localhost:8000/api/pet/"+t,e).then((function(e){console.log("Response: ",e),Object(o.c)("/pet/"+t)})).catch((function(e){for(var t=e.response.data.errors,a=[],n=0,l=Object.keys(t);n<l.length;n++){var c=l[n];a.push(t[c].message)}j(a)}))},submit:"Edit ",errors:g}),l.a.createElement("hr",null),l.a.createElement(o.a,{to:"/"},"Back to home")))};var j=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Pet Shelter"),l.a.createElement(o.b,null,l.a.createElement(p,{path:"/"}),l.a.createElement(f,{path:"/pet/new"}),l.a.createElement(v,{path:"/pet/:id"}),l.a.createElement(g,{path:"/pet/:id/edit"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.3b174940.chunk.js.map